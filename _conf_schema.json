{
    "vector_db_type": {
        "description": "选择向量数据库类型",
        "type": "string",
        "default": "faiss",
        "options": [
            "faiss"
        ]
    },
    "default_collection_name": {
        "description": "默认知识库集合名称",
        "type": "string",
        "default": "general"
    },
    "faiss_db_subpath": {
        "description": "Faiss 索引存储子路径 ",
        "type": "string",
        "default": "faiss_data",
        "hint": "(相对于持久化数据目录 'AstrBot/data/plugins_data/astrbot_plugin_knowledge_base/')"
    },
    "text_chunk_size": {
        "description": "文本分块大小 (字符数)",
        "type": "int",
        "default": 300
    },
    "text_chunk_overlap": {
        "description": "文本分块重叠大小 (字符数)",
        "type": "int",
        "default": 100
    },
    "search_top_k": {
        "description": "搜索时默认返回的结果数量",
        "type": "int",
        "default": 3
    },
    "auto_create_collection": {
        "description": "当指定的知识库集合不存在时，是否自动创建",
        "type": "bool",
        "default": true
    },
    "LLM_model": {
        "description": "是否启用LLM大模型解析文件",
        "type": "bool",
        "default": false,
        "hint": "如果启用，则会消耗AstrBot当前使用的提供商Token。（仅支持OpenAI兼容的提供商）"
    },
    "embedding_api_url": {
        "description": "[备用] OpenAI 兼容的 Embedding API 地址 ",
        "type": "string",
        "default": "https://api.openai.com/v1",
        "hint": "当在 WebUI 知识库页面指定了知识库的 AstrBot 嵌入模型提供商时，本配置失效。（此项为 AstrBot 版本 < 3.5.13 用户设计，其他版本用户请忽略）"
    },
    "embedding_api_key": {
        "description": "[备用] Embedding API 密钥",
        "type": "string",
        "default": "sk-your-key",
        "hint": "当在 WebUI 知识库页面指定了知识库的 AstrBot 嵌入模型提供商时，本配置失效。（此项为 AstrBot 版本 < 3.5.13 用户设计，其他版本用户请忽略）"
    },
    "embedding_model_name": {
        "description": "[备用] Embedding 模型名称",
        "type": "string",
        "default": "text-embedding-v3",
        "hint": "当在 WebUI 知识库页面指定了知识库的 AstrBot 嵌入模型提供商时，本配置失效。（此项为 AstrBot 版本 < 3.5.13 用户设计，其他版本用户请忽略）"
    },
    "embedding_dimension": {
        "description": "[备用] Embedding 向量维度",
        "type": "int",
        "default": 1024,
        "hint": "当在 WebUI 知识库页面指定了知识库的 AstrBot 嵌入模型提供商时，本配置失效。（此项为 AstrBot 版本 < 3.5.13 用户设计，其他版本用户请忽略）"
    },
    "rerank_config": {
        "description": "重排序配置（API服务优先，轻量化处理）",
        "type": "object",
        "hint": "配置API重排序服务，实现零依赖启动和轻量化处理",
        "items": {
            "strategy": {
                "description": "重排序策略",
                "type": "string",
                "default": "auto",
                "options": [
                    "auto",
                    "api",
                    "cross_encoder",
                    "simple"
                ],
                "hint": "auto: 自动选择最佳策略；api: 使用API重排序；cross_encoder: 使用本地Cross-Encoder；simple: 使用简单重排序"
            },
            "api_provider": {
                "description": "API重排序服务提供商",
                "type": "string",
                "default": "cohere",
                "options": [
                    "cohere",
                    "jina",
                    "custom"
                ],
                "hint": "仅当 strategy 为 'api' 或 'auto' 时有效"
            },
            "api_key": {
                "description": "API重排序服务密钥",
                "type": "string",
                "default": "",
                "hint": "对应提供商的API密钥，支持环境变量：COHERE_API_KEY, JINA_API_KEY"
            },
            "api_url": {
                "description": "自定义API重排序服务地址",
                "type": "string",
                "default": "",
                "hint": "仅当 api_provider 为 'custom' 时有效"
            },
            "enable_cache": {
                "description": "启用API重排序缓存",
                "type": "bool",
                "default": true,
                "hint": "缓存API重排序结果以提高性能"
            },
            "cache_ttl": {
                "description": "API重排序缓存时间(秒)",
                "type": "int",
                "default": 3600,
                "hint": "缓存过期时间，单位秒"
            },
            "timeout": {
                "description": "API重排序超时时间(秒)",
                "type": "int",
                "default": 30,
                "hint": "API请求超时时间"
            },
            "max_retries": {
                "description": "API重排序最大重试次数",
                "type": "int",
                "default": 3,
                "hint": "API请求失败时的最大重试次数"
            }
        }
    }
}